!function(a,e){var t=a.jQuery;if("function"==typeof define&&define.amd)t?define([],e.bind(null,t)):define(["jquery"],e);else if("object"==typeof exports)module.exports=e(t?t:require("jquery"));else{if(!t)throw"Missing required jQuery dependency";e(t)}}(this,function(a){function e(e){var n=t(e),i=e.find(".handle"),l=e.find(".handle1"),r=e.find(".handle2"),u=e.find(".selected-range"),d=e.width(),o=i.width(),f=d/n.stepsCount;value1=l.attr("data-value"),value2=r.attr("data-value"),i.each(function(t,i){var l=a(i),r=l.attr("data-value"),u=r*f;l.css({left:u-o/2}),e.find(l.attr("data-value-target")).html(l.attr("data-value")+n.unit)});var s=l.position().left+o/2,c=r.position().left+o/2-s;u.css({left:s,width:c}),e.find("input").val(value1+";"+value2).trigger("change")}function t(a){var e=a.find("input"),t={minValue:defaultMinValue,maxValue:defaultMaxValue,unit:defaultUnit};return void 0!==e.attr("data-min")&&(t.minValue=parseInt(e.attr("data-min"),10)),void 0!==e.attr("data-max")&&(t.maxValue=parseInt(e.attr("data-max"),10)),void 0!==e.attr("data-unit")&&(t.unit=e.attr("data-unit")),t.stepsCount=Math.round(t.maxValue-t.minValue),t}function n(n){$container=a('<div class="range-select-wrapper"></div>'),n.wrap($container),$container=n.parent();var l=t($container),r=l.minValue,u=l.maxValue;if(n.val()){var d=n.val().split(";");r=parseInt(d[0],10),u=parseInt(d[1],10)}$container.append('<div class="handle handle1" data-value="'+r+'" data-value-target=".value1"></div>'),$container.append('<div class="handle handle2" data-value="'+u+'" data-value-target=".value2"></div>'),$container.append('<div class="values"><span class="value1"></span> - <span class="value2"></span></div>'),$container.append('<div class="selected-range"></div>'),e($container),$container.on("mousedown touchstart",".handle",function(e){i||(i=!0,e.preventDefault(),$currentHandle=a(e.target),a(document).one("mouseup touchend",function(){i=!1,$currentHandle=null}))}),a(window).on("resize",e.bind(null,$container))}var i=!1;return $currentHandle=null,defaultMinValue=0,defaultMaxValue=100,defaultUnit="%",a(document).on("mousemove touchmove",function(n){if(i){var l=$currentHandle.closest(".range-select-wrapper"),r=t(l),u=l.width();if(!n.offsetX&&n.originalEvent.touches){var d=a(n.target).offset();n.offsetX=n.originalEvent.touches[0].pageX-d.left}else if("undefined"==typeof n.offsetX||"undefined"==typeof n.offsetY){var d=a(n.target).offset();n.offsetX=n.pageX-d.left}var o=n.target.offsetLeft+n.offsetX,f=u/r.stepsCount,s=Math.round(o/f);s=Math.max(r.minValue,s),s=Math.min(r.maxValue,s);{l.find(".handle").not($currentHandle[0])}s=$currentHandle.hasClass("handle1")?Math.min(parseInt(l.find(".handle2").attr("data-value"),10)-1,s):Math.max(parseInt(l.find(".handle1").attr("data-value"),10)+1,s),$currentHandle.attr("data-value",s),e(l)}}),a.fn.lcnRangeSelect=function(){return this.each(function(){n(a(this))})},a.fn.lcnRangeSelect});